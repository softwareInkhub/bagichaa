(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4331],{9603:function(e,t,s){Promise.resolve().then(s.bind(s,9222))},9222:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(6687),n=s(5029),a=s(8965),i=s(4670),c=s(1801),l=s(44),o=s(7437),d=s(2265),u=s(5251),x=s(2167),g=s(6834),m=s(4499),h=s(6774);function f(){var e,t,s,f=(0,i._)((0,d.useState)([]),2),p=f[0],b=f[1],y=(0,i._)((0,d.useState)(!0),2),j=y[0],N=y[1],v=(0,i._)((0,d.useState)(!1),2),C=v[0],w=v[1],D=(0,i._)((0,d.useState)(null),2),_=D[0],k=D[1],E=(0,i._)((0,d.useState)(null),2),F=E[0],A=E[1],S=(0,i._)((0,d.useState)(""),2),z=S[0],O=S[1],J=(0,i._)((0,d.useState)({name:"",description:"",icon:"\uD83C\uDF31",image:"",subcategories:[]}),2),L=J[0],P=J[1];(0,d.useEffect)(function(){U()},[]);var U=(e=(0,r._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),[4,(0,m.getCategories)()];case 1:return b(e.sent()),[3,4];case 2:return e.sent(),[3,4];case 3:return N(!1),[7];case 4:return[2]}})}),function(){return e.apply(this,arguments)}),I=function(){P({name:"",description:"",icon:"\uD83C\uDF31",image:"",subcategories:[]}),k(null),O(""),w(!0)},Y=function(e){P(e),k(e),w(!0)},q=(t=(0,r._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:if(e.trys.push([0,6,,7]),!(_&&_.id))return[3,2];return[4,(0,m.updateCategory)(_.id,L)];case 1:return e.sent(),[3,4];case 2:return[4,(0,m.addCategory)(L)];case 3:e.sent(),e.label=4;case 4:return[4,U()];case 5:return e.sent(),w(!1),k(null),[3,7];case 6:return e.sent(),[3,7];case 7:return[2]}})}),function(){return t.apply(this,arguments)}),B=(s=(0,r._)(function(e){return(0,l.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,(0,m.deleteCategory)(e)];case 1:return t.sent(),[4,U()];case 2:return t.sent(),A(null),[3,4];case 3:return t.sent(),[3,4];case 4:return[2]}})}),function(e){return s.apply(this,arguments)}),M=function(e){e.trim()&&!L.subcategories.includes(e.trim())&&P((0,a._)((0,n._)({},L),{subcategories:(0,c._)(L.subcategories).concat([e.trim()])}))},K=function(e){P((0,a._)((0,n._)({},L),{subcategories:L.subcategories.filter(function(t,s){return s!==e})}))};return j?(0,o.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Categories"}),(0,o.jsx)("p",{className:"text-gray-600 mt-1",children:"Organize your products into categories"})]}),(0,o.jsxs)("button",{onClick:I,className:"flex items-center justify-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors w-full lg:w-auto",children:[(0,o.jsx)(g.OvN,{size:20}),(0,o.jsx)("span",{children:"Add Category"})]})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:p.map(function(e,t){return(0,o.jsxs)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,o.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center text-2xl flex-shrink-0 overflow-hidden",children:e.image?(0,o.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded-lg"}):(0,o.jsx)("span",{children:e.icon})}),(0,o.jsxs)("div",{className:"flex space-x-2 flex-shrink-0",children:[(0,o.jsx)("button",{onClick:function(){return Y(e)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,o.jsx)(g.IYd,{size:16})}),(0,o.jsx)("button",{onClick:function(){return A(e.id)},className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-lg transition-colors",children:(0,o.jsx)(g.Ybf,{size:16})})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-semibold text-gray-900 truncate",children:e.name}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:e.description})]}),e.subcategories.length>0&&(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Subcategories:"}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.subcategories.slice(0,3).map(function(e,t){return(0,o.jsx)("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full truncate max-w-20",children:e},t)}),e.subcategories.length>3&&(0,o.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.subcategories.length-3," more"]})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[(0,o.jsxs)("span",{className:"text-sm text-gray-500",children:[e.productCount||0," products"]}),(0,o.jsx)("span",{className:"text-xs text-gray-400",children:e.createdAt?new Date(e.createdAt.toDate()).toLocaleDateString():"N/A"})]})]})]},e.id)})}),0===p.length&&(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)(g.QoU,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),(0,o.jsx)("p",{className:"text-gray-500",children:"No categories found"}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center mt-4",children:[(0,o.jsx)("button",{onClick:I,className:"text-green-600 hover:text-green-700 font-medium",children:"Create your first category"}),(0,o.jsx)("span",{className:"text-gray-300 hidden sm:inline",children:"or"}),(0,o.jsx)("button",{onClick:(0,r._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:return[4,(0,m.createSampleCategories)()];case 1:if(!e.sent())return[3,3];return[4,U()];case 2:e.sent(),e.label=3;case 3:return[2]}})}),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Load sample categories"})]})]}),(0,o.jsx)(x.M,{children:C&&(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,o.jsxs)(u.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:_?"Edit Category":"Add New Category"}),(0,o.jsx)("button",{onClick:function(){return w(!1)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,o.jsx)(g.q5L,{size:20})})]}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Name"}),(0,o.jsx)("input",{type:"text",value:L.name,onChange:function(e){return P((0,a._)((0,n._)({},L),{name:e.target.value}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"Enter category name"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,o.jsx)("textarea",{value:L.description,onChange:function(e){return P((0,a._)((0,n._)({},L),{description:e.target.value}))},rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"Enter category description"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Icon (Emoji)"}),(0,o.jsx)("div",{className:"grid grid-cols-10 gap-2 mb-3",children:["\uD83C\uDF31","\uD83E\uDEB4","\uD83C\uDF3F","\uD83C\uDF38","\uD83C\uDF3A","\uD83C\uDF3B","\uD83C\uDF39","\uD83C\uDF37","\uD83C\uDF3E","\uD83C\uDF43","\uD83D\uDEE0️","⚒️","\uD83D\uDD27","✂️","\uD83C\uDFFA","\uD83E\uDEA3","\uD83C\uDF30","\uD83C\uDF31","\uD83D\uDCA7","☀️"].map(function(e){return(0,o.jsx)("button",{onClick:function(){return P((0,a._)((0,n._)({},L),{icon:e}))},className:"w-10 h-10 rounded-lg border-2 flex items-center justify-center text-lg transition-colors ".concat(L.icon===e?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"),children:e},e)})}),(0,o.jsx)("input",{type:"text",value:L.icon,onChange:function(e){return P((0,a._)((0,n._)({},L),{icon:e.target.value}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",placeholder:"Or enter custom emoji"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Image (Optional)"}),(0,o.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Upload an image to use instead of emoji icon"}),(0,o.jsx)(h.Z,{value:L.image,onChange:function(e){return P((0,a._)((0,n._)({},L),{image:e}))},onError:function(e){return O(e)},folder:"categories",placeholder:"Upload category image",className:"w-full"}),z&&(0,o.jsx)("p",{className:"text-red-500 text-sm mt-2",children:z})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategories"}),(0,o.jsxs)("div",{className:"space-y-2",children:[L.subcategories.map(function(e,t){return(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"flex-1 px-3 py-2 bg-gray-50 rounded-lg text-sm",children:e}),(0,o.jsx)("button",{onClick:function(){return K(t)},className:"p-1 text-red-500 hover:text-red-700",children:(0,o.jsx)(g.q5L,{size:16})})]},t)}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[(0,o.jsx)("input",{type:"text",placeholder:"Add a subcategory",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),M(e.target.value),e.target.value="")}}),(0,o.jsx)("button",{onClick:function(e){var t=e.target.previousElementSibling;M(t.value),t.value=""},className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:"Add"})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),(0,o.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-xl overflow-hidden",children:L.image?(0,o.jsx)("img",{src:L.image,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):(0,o.jsx)("span",{children:L.icon})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"font-medium text-gray-900",children:L.name||"Category Name"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:L.description||"Category description"})]})]})})]}),(0,o.jsxs)("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200",children:[(0,o.jsx)("button",{onClick:function(){return w(!1)},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,o.jsxs)("button",{onClick:q,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[(0,o.jsx)(g.mW3,{size:16}),(0,o.jsxs)("span",{children:[_?"Update":"Create"," Category"]})]})]})]})]})})}),(0,o.jsx)(x.M,{children:F&&(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,o.jsx)(u.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl p-6 w-full max-w-md",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"w-12 h-12 mx-auto bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,o.jsx)(g.Ybf,{className:"text-red-600",size:24})}),(0,o.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Delete Category"}),(0,o.jsx)("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this category? This action cannot be undone and may affect associated products."}),(0,o.jsxs)("div",{className:"flex space-x-4",children:[(0,o.jsx)("button",{onClick:function(){return A(null)},className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,o.jsx)("button",{onClick:function(){return B(F)},className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Delete"})]})]})})})})]})}}},function(e){e.O(0,[4358,9990,4220,5643,6834,4499,6774,2971,4938,1744],function(){return e(e.s=9603)}),_N_E=e.O()}]);