(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8668],{3247:function(e,s,t){Promise.resolve().then(t.bind(t,2794))},2794:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return m}});var r=t(6687),a=t(4670),l=t(1801),i=t(44),n=t(7437),c=t(2265),d=t(5251),x=t(6834),o=t(4499);function m(){var e,s,t,m,h=(0,a._)((0,c.useState)(null),2),g=h[0],u=h[1],j=(0,a._)((0,c.useState)(null),2),b=j[0],p=j[1],y=(0,a._)((0,c.useState)(null),2),f=y[0],N=y[1],v=(0,a._)((0,c.useState)(null),2),w=v[0],C=v[1],R=(0,a._)((0,c.useState)(!0),2),S=R[0],_=R[1],O=(0,a._)((0,c.useState)("month"),2),z=O[0],k=O[1],A=(0,a._)((0,c.useState)("overview"),2),L=A[0],P=A[1];(0,c.useEffect)(function(){T();var e=(0,o.subscribeToAnalytics)(function(e){C(e)});return function(){return e()}},[z]);var T=(e=(0,r._)(function(){var e,s,t,r;return(0,i.Jh)(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,3,4]),_(!0),[4,Promise.all([(0,o.getRevenueAnalytics)(z),(0,o.getCustomerAnalytics)(),(0,o.getProductAnalytics)()])];case 1:return s=(e=a._.apply(void 0,[l.sent(),3]))[0],t=e[1],r=e[2],u(s),p(t),N(r),[3,4];case 2:return l.sent(),[3,4];case 3:return _(!1),[7];case 4:return[2]}})}),function(){return e.apply(this,arguments)}),E=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e)};return S?(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,n.jsx)(x.orK,{className:"text-blue-600",size:20})}),(0,n.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Analytics Dashboard"})]}),(0,n.jsx)("p",{className:"text-gray-600",children:"Comprehensive business insights and performance metrics"})]}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[(0,n.jsxs)("select",{value:z,onChange:function(e){return k(e.target.value)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[(0,n.jsx)("option",{value:"day",children:"Last 30 Days"}),(0,n.jsx)("option",{value:"week",children:"Last 12 Weeks"}),(0,n.jsx)("option",{value:"month",children:"Last 12 Months"}),(0,n.jsx)("option",{value:"year",children:"Last 5 Years"})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsxs)("button",{onClick:T,className:"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors",children:[(0,n.jsx)(x.Bw1,{size:16}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Refresh"})]}),(0,n.jsxs)("button",{onClick:function(){var e={revenue:g,customers:b,products:f,exportedAt:new Date().toISOString()},s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),r=document.createElement("a");r.href=t,r.download="analytics-".concat(new Date().toISOString().split("T")[0],".json"),r.click(),URL.revokeObjectURL(t)},className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[(0,n.jsx)(x._hL,{size:16}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Export"})]})]})]})]}),w&&(0,n.jsx)(d.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-green-500 to-blue-600 rounded-xl p-4 text-white",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center",children:(0,n.jsx)(x.QqI,{size:20})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Live Analytics"}),(0,n.jsx)("p",{className:"text-green-100 text-sm",children:"Real-time business metrics"})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("p",{className:"text-2xl font-bold",children:E(w.totalRevenue)}),(0,n.jsxs)("p",{className:"text-green-100 text-sm",children:[w.totalOrders," orders"]})]})]})}),(0,n.jsx)("div",{className:"border-b border-gray-200",children:(0,n.jsx)("nav",{className:"flex space-x-8 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:x.orK},{id:"revenue",label:"Revenue",icon:x.oQC},{id:"customers",label:"Customers",icon:x.WY8},{id:"products",label:"Products",icon:x.zFh}].map(function(e){return(0,n.jsxs)("button",{onClick:function(){return P(e.id)},className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ".concat(L===e.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,n.jsx)(e.icon,{size:16}),(0,n.jsx)("span",{children:e.label})]},e.id)})})}),"overview"===L&&g&&b&&f&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[(0,n.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E(g.totalRevenue)})]}),(0,n.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,n.jsx)(x.oQC,{className:"text-green-600",size:24})})]}),(0,n.jsxs)("div",{className:"mt-4 flex items-center space-x-2",children:[(0,n.jsx)(x.iRh,{className:"text-green-500",size:16}),(0,n.jsx)("span",{className:"text-sm text-green-600",children:"+12.5% vs last period"})]})]}),(0,n.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Total Orders"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:g.totalOrders.toLocaleString()})]}),(0,n.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,n.jsx)(x.Qyq,{className:"text-blue-600",size:24})})]}),(0,n.jsxs)("div",{className:"mt-4 flex items-center space-x-2",children:[(0,n.jsx)(x.iRh,{className:"text-green-500",size:16}),(0,n.jsx)("span",{className:"text-sm text-green-600",children:"+8.2% vs last period"})]})]}),(0,n.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Order Value"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E(g.averageOrderValue)})]}),(0,n.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,n.jsx)(x.QqI,{className:"text-purple-600",size:24})})]}),(0,n.jsxs)("div",{className:"mt-4 flex items-center space-x-2",children:[(0,n.jsx)(x.iRh,{className:"text-green-500",size:16}),(0,n.jsx)("span",{className:"text-sm text-green-600",children:"+3.7% vs last period"})]})]}),(0,n.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Total Customers"}),(0,n.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:b.totalCustomers.toLocaleString()})]}),(0,n.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,n.jsx)(x.WY8,{className:"text-orange-600",size:24})})]}),(0,n.jsxs)("div",{className:"mt-4 flex items-center space-x-2",children:[(0,n.jsx)(x.iRh,{className:"text-green-500",size:16}),(0,n.jsx)("span",{className:"text-sm text-green-600",children:"+15.3% vs last period"})]})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"}),(0,n.jsx)(x.orK,{className:"text-gray-400",size:20})]}),(0,n.jsx)("div",{className:"h-64 flex items-end justify-between space-x-2",children:g.revenueByPeriod.slice(-12).map(function(e,t){return(0,n.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,n.jsx)("div",{className:"w-full bg-green-500 rounded-t",style:{height:"".concat(e.revenue/(s=Math).max.apply(s,(0,l._)(g.revenueByPeriod.map(function(e){return e.revenue})))*200,"px"),minHeight:"4px"}}),(0,n.jsx)("span",{className:"text-xs text-gray-500 mt-2 transform -rotate-45 origin-left",children:e.period.slice(-5)})]},t)})})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Segments"}),(0,n.jsx)(x.CFv,{className:"text-gray-400",size:20})]}),(0,n.jsx)("div",{className:"space-y-4",children:Object.entries(b.segments).map(function(e){var s=(0,a._)(e,2),t=s[0],r=s[1];return(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("new"===t?"bg-green-500":"active"===t?"bg-blue-500":"inactive"===t?"bg-yellow-500":"bg-red-500")}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700 capitalize",children:t})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:r}),(0,n.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",(r/b.totalCustomers*100).toFixed(1),"%)"]})]})]},t)})})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Top Selling Products"}),(0,n.jsx)("div",{className:"space-y-4",children:f.topSellingProducts.slice(0,5).map(function(e,s){return(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,n.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:["#",s+1]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:[e.sold," units sold"]})]})]}),(0,n.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:E(e.revenue)})]},s)})})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Top Customers"}),(0,n.jsx)("div",{className:"space-y-4",children:b.topCustomers.slice(0,5).map(function(e,s){return(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,n.jsxs)("span",{className:"text-sm font-semibold text-gray-600",children:["#",s+1]})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,n.jsxs)("p",{className:"text-xs text-gray-500",children:[e.totalOrders," orders"]})]})]}),(0,n.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:E(e.totalSpent)})]},s)})})]})]})]}),"revenue"===L&&g&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total Revenue"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-green-600",children:E(g.totalRevenue)})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Average Order Value"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:E(g.averageOrderValue)})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total Orders"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:g.totalOrders})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Revenue by Category"}),(0,n.jsx)("div",{className:"space-y-4",children:g.revenueByCategory.map(function(e,s){return(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.category}),(0,n.jsx)("span",{className:"text-sm text-gray-500",children:E(e.revenue)})]}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,n.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(e.revenue/(t=Math).max.apply(t,(0,l._)(g.revenueByCategory.map(function(e){return e.revenue})))*100,"%")}})})]})},s)})})]})]}),"customers"===L&&b&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total Customers"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:b.totalCustomers})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Avg Lifetime Value"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-green-600",children:E(b.averageLifetimeValue)})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Active Customers"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:b.segments.active})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Geographic Distribution"}),(0,n.jsx)("div",{className:"space-y-4",children:b.geographicDistribution.slice(0,10).map(function(e,s){return(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.location}),(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,n.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(e.count/(m=Math).max.apply(m,(0,l._)(b.geographicDistribution.map(function(e){return e.count})))*100,"%")}})}),(0,n.jsx)("span",{className:"text-sm text-gray-500 w-8 text-right",children:e.count})]})]},s)})})]})]}),"products"===L&&f&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Total Products"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:f.totalProducts})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Product Revenue"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-green-600",children:f.topRevenueProducts[0]?E(f.topRevenueProducts[0].revenue):"₹0"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Low Stock Alerts"}),(0,n.jsx)("p",{className:"text-3xl font-bold text-red-600",children:f.lowStockAlerts.length})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Category Performance"}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,n.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Category"}),(0,n.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-700",children:"Units Sold"}),(0,n.jsx)("th",{className:"text-right py-3 px-4 font-medium text-gray-700",children:"Revenue"})]})}),(0,n.jsx)("tbody",{children:f.categoryPerformance.map(function(e,s){return(0,n.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,n.jsx)("td",{className:"py-3 px-4 text-gray-900",children:e.category}),(0,n.jsx)("td",{className:"py-3 px-4 text-right text-gray-700",children:e.sold}),(0,n.jsx)("td",{className:"py-3 px-4 text-right font-semibold text-gray-900",children:E(e.revenue)})]},s)})})]})})]}),f.lowStockAlerts.length>0&&(0,n.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-red-900 mb-4",children:"Low Stock Alerts"}),(0,n.jsx)("div",{className:"space-y-2",children:f.lowStockAlerts.map(function(e,s){return(0,n.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-red-800",children:e.name}),(0,n.jsxs)("span",{className:"text-sm text-red-600",children:[e.inventory," units left"]})]},s)})})]})]})]})}}},function(e){e.O(0,[4358,9990,4220,5643,6834,4499,2971,4938,1744],function(){return e(e.s=3247)}),_N_E=e.O()}]);