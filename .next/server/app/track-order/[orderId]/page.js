(()=>{var e={};e.id=998,e.ids=[998],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},36232:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c});var t=r(50482),a=r(69108),i=r(62563),l=r.n(i),n=r(68300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(s,d);let c=["",{children:["track-order",{children:["[orderId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,96048)),"C:\\Users\\User\\bagichaa\\app\\track-order\\[orderId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,24717)),"C:\\Users\\User\\bagichaa\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,20429)),"C:\\Users\\User\\bagichaa\\app\\error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,87984)),"C:\\Users\\User\\bagichaa\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,1429)),"C:\\Users\\User\\bagichaa\\app\\not-found.tsx"]}],o=["C:\\Users\\User\\bagichaa\\app\\track-order\\[orderId]\\page.tsx"],x="/track-order/[orderId]/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/track-order/[orderId]/page",pathname:"/track-order/[orderId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},50783:(e,s,r)=>{Promise.resolve().then(r.bind(r,48928))},48928:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var t=r(95344),a=r(3729),i=r.n(a),l=r(22254),n=r(34087),d=r(91917),c=r(16278),o=r(7060),x=r(63024),m=r(33733),u=r(76755),h=r(40626),p=r(35851),g=r(80508),j=r(37027),b=r(87521),y=r(59202);let v=()=>{let e=(0,l.useParams)(),s=(0,l.useRouter)(),r=e.orderId,[v,N]=(0,a.useState)(null),[f,w]=(0,a.useState)(null),[k,q]=(0,a.useState)(null),[Z,_]=(0,a.useState)(!0),[P,C]=(0,a.useState)(""),[I,T]=(0,a.useState)(!1),{showToast:U}=(0,y.useToast)(),D=i().useRef(null);(0,a.useEffect)(()=>{if(!r)return;A();let e=(0,b.rI)(r,e=>{e&&(w(e),e.riderId&&!k&&S(e.riderId))});return()=>e()},[r]),(0,a.useEffect)(()=>{f&&f.status&&(D.current&&D.current!==f.status&&U(`Order status updated: ${f.status.replace("_"," ")}`,"info"),D.current=f.status)},[f?.status]);let A=async()=>{try{_(!0);let e=await (0,b.co)(r);if(!e){C("Order not found"),_(!1);return}N(e),e.riderId&&await S(e.riderId),_(!1)}catch(e){C("Failed to load order details"),_(!1)}},S=async e=>{try{let s=(await (0,b.Vb)()).find(s=>s.id===e);s&&q({id:s.id,name:s.name,phone:s.phone,vehicleType:s.vehicleType,vehicleNumber:s.vehicleNumber,rating:s.rating})}catch(e){}},$=async()=>{T(!0),await A(),T(!1)};if(Z)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})});if(P)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(d.Z,{className:"w-8 h-8 text-red-600"})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:P}),t.jsx("button",{onClick:()=>s.push("/"),className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700",children:"Go Home"})]})});if(!v)return null;let E=(e=>{switch(e){case"pending":return{color:"text-yellow-600 bg-yellow-100",icon:t.jsx(n.Z,{className:"w-5 h-5"}),title:"Order Confirmed",description:"Your order is being prepared"};case"assigned":return{color:"text-blue-600 bg-blue-100",icon:t.jsx(d.Z,{className:"w-5 h-5"}),title:"Rider Assigned",description:"A delivery partner has been assigned"};case"picked_up":return{color:"text-orange-600 bg-orange-100",icon:t.jsx(d.Z,{className:"w-5 h-5"}),title:"Order Picked Up",description:"Your order has been picked up"};case"out_for_delivery":return{color:"text-green-600 bg-green-100",icon:t.jsx(c.Z,{className:"w-5 h-5"}),title:"Out for Delivery",description:"Your order is on the way"};case"delivered":return{color:"text-purple-600 bg-purple-100",icon:t.jsx(o.Z,{className:"w-5 h-5"}),title:"Delivered",description:"Your order has been delivered successfully"};default:return{color:"text-gray-600 bg-gray-100",icon:t.jsx(n.Z,{className:"w-5 h-5"}),title:"Processing",description:"Your order is being processed"}}})(v.status);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b",children:t.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>s.back(),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:t.jsx(x.Z,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h1",{className:"font-semibold text-gray-900",children:"Track Order"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["#",v.orderNumber||v.id]})]}),t.jsx("button",{onClick:$,disabled:I,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg disabled:opacity-50",children:t.jsx(m.Z,{className:`w-5 h-5 ${I?"animate-spin":""}`})})]})})}),(0,t.jsxs)("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:`p-2 rounded-full ${E.color}`,children:E.icon}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h2",{className:"font-semibold text-gray-900",children:E.title}),t.jsx("p",{className:"text-sm text-gray-600",children:E.description})]})]}),t.jsx("div",{className:"text-sm text-gray-600",children:t.jsx("p",{children:v?.actualDeliveryTime?`Delivered at ${new Date(v.actualDeliveryTime).toLocaleTimeString()}`:f?.estimatedArrival?`Estimated arrival: ${new Date(f.estimatedArrival).toLocaleTimeString()}`:v?.estimatedDeliveryTime?`Estimated delivery: ${new Date(v.estimatedDeliveryTime).toLocaleTimeString()}`:"Calculating delivery time..."})})]}),f&&k&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Live Tracking"})}),t.jsx(j.Z,{orderId:r,trackingData:f,mode:"customer",height:"300px",riderInfo:{name:k.name,phone:k.phone,vehicle:`${k.vehicleType} - ${k.vehicleNumber}`,rating:k.rating}})]}),k&&"pending"!==v.status&&(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Your Delivery Partner"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx(c.Z,{className:"w-6 h-6 text-green-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:k.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[k.vehicleType," - ",k.vehicleNumber]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[t.jsx(u.Z,{className:"w-4 h-4 text-yellow-400 fill-current"}),t.jsx("span",{className:"text-sm text-gray-600",children:k.rating})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>window.open(`tel:${k.phone}`),className:"p-3 bg-green-100 text-green-600 rounded-full hover:bg-green-200",children:t.jsx(h.Z,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>window.open(`sms:${k.phone}`),className:"p-3 bg-blue-100 text-blue-600 rounded-full hover:bg-blue-200",children:t.jsx(p.Z,{className:"w-5 h-5"})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Items"})}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[v.items.map((e,s)=>{let r=e.quantity||e.qty||1;return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.image?t.jsx("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-lg object-cover"}):t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:t.jsx(d.Z,{className:"w-6 h-6 text-gray-400"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",r]})]})]}),(0,t.jsxs)("p",{className:"font-medium text-gray-900",children:["₹",e.price*r]})]},s)}),(0,t.jsxs)("div",{className:"border-t pt-3 flex justify-between font-semibold text-gray-900",children:[t.jsx("span",{children:"Total Amount"}),(0,t.jsxs)("span",{children:["₹",v.totalAmount||v.total||0]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Delivery Address"}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(g.Z,{className:"w-5 h-5 text-gray-400 mt-1"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-gray-900",children:v.address?.street||"Address not available"}),t.jsx("p",{className:"text-sm text-gray-600",children:v.address?.city||""})]})]})]}),f&&f.trackingEvents.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Timeline"})}),t.jsx("div",{className:"p-4",children:t.jsx("div",{className:"space-y-4",children:f.trackingEvents.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mt-2"}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900 capitalize",children:e.event.replace("_"," ")}),t.jsx("p",{className:"text-sm text-gray-600",children:e.note}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()})]})]},s))})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Need Help?"}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("button",{className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-900",children:"Contact Customer Support"}),t.jsx(h.Z,{className:"w-4 h-4 text-gray-400"})]})}),t.jsx("button",{className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-900",children:"Report an Issue"}),t.jsx(p.Z,{className:"w-4 h-4 text-gray-400"})]})})]})]})]})]})}},63024:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35851:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},76755:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,r(69224).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},96048:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let t=(0,r(86843).createProxy)(String.raw`C:\Users\User\bagichaa\app\track-order\[orderId]\page.tsx`),{__esModule:a,$$typeof:i}=t,l=t.default}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[638,867,275,592,872,521,27],()=>r(36232));module.exports=t})();