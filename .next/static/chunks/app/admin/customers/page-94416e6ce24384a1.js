(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6781],{8030:function(e,t,s){Promise.resolve().then(s.bind(s,7432))},7432:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(6687),n=s(5029),a=s(8965),l=s(4670),i=s(1801),c=s(44),o=s(7437),d=s(2265),m=s(5251),x=s(2167),u=s(6834),h=s(4499);function p(){var e,t,s,p,f=(0,l._)((0,d.useState)([]),2),g=f[0],y=f[1],j=(0,l._)((0,d.useState)(null),2),b=j[0],v=j[1],N=(0,l._)((0,d.useState)([]),2),w=N[0],C=N[1],O=(0,l._)((0,d.useState)(!0),2),E=O[0],z=O[1],S=(0,l._)((0,d.useState)(""),2),k=S[0],D=S[1],L=(0,l._)((0,d.useState)("all"),2),_=L[0],P=L[1],R=(0,l._)((0,d.useState)("totalSpent"),2),A=R[0],T=R[1],I=(0,l._)((0,d.useState)(!1),2),M=(I[0],I[1]),U=(0,l._)((0,d.useState)(!1),2),F=U[0],V=U[1],q=(0,l._)((0,d.useState)(null),2),J=q[0],Q=q[1];(0,d.useEffect)(function(){W(),$();var e=(0,h.subscribeToCustomers)(function(e){y(B(e)),z(!1)});return function(){return e()}},[]);var W=(e=(0,r._)(function(){var e;return(0,c.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),[4,Promise.all([(0,h.getCustomers)(),(0,h.getOrders)()])];case 1:return y(B((e=l._.apply(void 0,[t.sent(),2]))[0],e[1])),[3,4];case 2:return t.sent(),[3,4];case 3:return z(!1),[7];case 4:return[2]}})}),function(){return e.apply(this,arguments)}),$=(t=(0,r._)(function(){return(0,c.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,h.getCustomerAnalytics)()];case 1:return Q(e.sent()),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}})}),function(){return t.apply(this,arguments)}),B=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=new Date;return e.map(function(e){var s=e.lastOrderDate,r=0;if(s)s=s.toDate?s.toDate():new Date(s),r=(t.getTime()-s.getTime())/864e5;else if(e.createdAt){var l=e.createdAt.toDate?e.createdAt.toDate():new Date(e.createdAt);r=(t.getTime()-l.getTime())/864e5}else r=0;var i="new";return i=0===e.totalOrders?"new":r<=30?"new":r<=90?"active":r<=180?"inactive":"churned",(0,a._)((0,n._)({},e),{segment:i,totalOrders:e.totalOrders||0,totalSpent:e.totalSpent||0,averageOrderValue:e.totalOrders>0?(e.totalSpent||0)/e.totalOrders:0,loyaltyPoints:e.loyaltyPoints||0})})},Y=(s=(0,r._)(function(e){return(0,c.Jh)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,h.getCustomerOrders)(e)];case 1:return C(t.sent()),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}})}),function(e){return s.apply(this,arguments)}),H=g.filter(function(e){var t,s=!k||e.name.toLowerCase().includes(k.toLowerCase())||e.phone.includes(k)||(null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(k.toLowerCase())),r="all"===_||e.segment===_;return s&&r}).sort(function(e,t){switch(A){case"totalSpent":return t.totalSpent-e.totalSpent;case"totalOrders":return t.totalOrders-e.totalOrders;case"lastOrderDate":return new Date(t.lastOrderDate).getTime()-new Date(e.lastOrderDate).getTime();case"name":return e.name.localeCompare(t.name);default:return 0}}),G=function(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e)},K=function(e){return e?(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"N/A"},X=function(e){switch(e){case"new":return"bg-green-100 text-green-800 border-green-200";case"active":return"bg-blue-100 text-blue-800 border-blue-200";case"inactive":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"churned":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Z=(p=(0,r._)(function(){return(0,c.Jh)(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,5,6]),z(!0),[4,(0,h.createSampleCustomers)()];case 1:return e.sent(),[4,W()];case 2:return e.sent(),[4,$()];case 3:case 4:return e.sent(),[3,6];case 5:return z(!1),[7];case 6:return[2]}})}),function(){return p.apply(this,arguments)}),ee={new:g.filter(function(e){return"new"===e.segment}).length,active:g.filter(function(e){return"active"===e.segment}).length,inactive:g.filter(function(e){return"inactive"===e.segment}).length,churned:g.filter(function(e){return"churned"===e.segment}).length};return E?(0,o.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 mb-1",children:[(0,o.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,o.jsx)(u.WY8,{className:"text-blue-600",size:20})}),(0,o.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Customer Management"})]}),(0,o.jsx)("p",{className:"text-gray-600",children:"Manage customer relationships and track customer journey"})]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[(0,o.jsxs)("button",{onClick:function(){var e=["Name,Phone,Email,City,State,Total Orders,Total Spent,Segment,Last Order,Loyalty Points"].concat((0,i._)(H.map(function(e){return[e.name,e.phone,e.email||"",e.city,e.state,e.totalOrders,e.totalSpent,e.segment,K(e.lastOrderDate),e.loyaltyPoints||0].join(",")}))).join("\n"),t=new Blob([e],{type:"text/csv"}),s=URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download="customers-".concat(new Date().toISOString().split("T")[0],".csv"),r.click(),URL.revokeObjectURL(s)},className:"flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium transition-colors",children:[(0,o.jsx)(u._hL,{size:16}),(0,o.jsx)("span",{children:"Export"})]}),(0,o.jsxs)("button",{onClick:function(){return M(!0)},className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[(0,o.jsx)(u.zy7,{size:16}),(0,o.jsx)("span",{children:"Add Customer"})]}),(0,o.jsxs)("button",{onClick:W,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[(0,o.jsx)(u.Bw1,{size:16}),(0,o.jsx)("span",{children:"Refresh"})]})]})]}),J&&(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[(0,o.jsx)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 md:p-6 shadow-sm border border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Total Customers"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:J.totalCustomers})]}),(0,o.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,o.jsx)(u.WY8,{className:"text-blue-600",size:20})})]})}),(0,o.jsx)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 md:p-6 shadow-sm border border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Avg Lifetime Value"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:G(J.averageLifetimeValue)})]}),(0,o.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,o.jsx)(u.oQC,{className:"text-green-600",size:20})})]})}),(0,o.jsx)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 md:p-6 shadow-sm border border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"Active Customers"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ee.active+ee.new})]}),(0,o.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,o.jsx)(u.QqI,{className:"text-purple-600",size:20})})]})}),(0,o.jsx)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 md:p-6 shadow-sm border border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"At Risk"}),(0,o.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ee.inactive+ee.churned})]}),(0,o.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,o.jsx)(u.xUG,{className:"text-red-600",size:20})})]})})]}),(0,o.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 md:gap-4",children:[{segment:"new",label:"New",count:ee.new,color:"bg-green-500",icon:u.zy7},{segment:"active",label:"Active",count:ee.active,color:"bg-blue-500",icon:u.QqI},{segment:"inactive",label:"Inactive",count:ee.inactive,color:"bg-yellow-500",icon:u.vlc},{segment:"churned",label:"Churned",count:ee.churned,color:"bg-red-500",icon:u.q5L}].map(function(e){return(0,o.jsx)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-3 md:p-4 shadow-sm border border-gray-200 cursor-pointer hover:shadow-md transition-shadow",onClick:function(){return P(_===e.segment?"all":e.segment)},children:(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,o.jsxs)("div",{className:"mb-2 sm:mb-0",children:[(0,o.jsx)("p",{className:"text-xs sm:text-sm text-gray-600",children:e.label}),(0,o.jsx)("p",{className:"text-xl md:text-2xl font-bold text-gray-900",children:e.count})]}),(0,o.jsx)("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-lg ".concat(e.color," flex items-center justify-center text-white self-end sm:self-auto"),children:(0,o.jsx)(e.icon,{size:16})})]})},e.segment)})}),(0,o.jsx)("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-sm border border-gray-200",children:(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:space-x-4 space-y-4 lg:space-y-0",children:[(0,o.jsxs)("div",{className:"flex-1 relative",children:[(0,o.jsx)(u.jRj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,o.jsx)("input",{type:"text",placeholder:"Search customers by name, phone, or email...",value:k,onChange:function(e){return D(e.target.value)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]}),(0,o.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-3 sm:space-y-0",children:[(0,o.jsxs)("select",{value:_,onChange:function(e){return P(e.target.value)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none min-w-[140px]",children:[(0,o.jsx)("option",{value:"all",children:"All Segments"}),(0,o.jsx)("option",{value:"new",children:"New"}),(0,o.jsx)("option",{value:"active",children:"Active"}),(0,o.jsx)("option",{value:"inactive",children:"Inactive"}),(0,o.jsx)("option",{value:"churned",children:"Churned"})]}),(0,o.jsxs)("select",{value:A,onChange:function(e){return T(e.target.value)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none min-w-[140px]",children:[(0,o.jsx)("option",{value:"totalSpent",children:"Total Spent"}),(0,o.jsx)("option",{value:"totalOrders",children:"Total Orders"}),(0,o.jsx)("option",{value:"lastOrderDate",children:"Last Order"}),(0,o.jsx)("option",{value:"name",children:"Name"})]}),(0,o.jsxs)("div",{className:"text-sm text-gray-600 whitespace-nowrap",children:[H.length," customers"]})]})]})}),(0,o.jsx)("div",{className:"space-y-4",children:H.map(function(e,t){return(0,o.jsxs)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[(0,o.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-4 space-y-3 lg:space-y-0",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,o.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:e.name.charAt(0).toUpperCase()}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,o.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,o.jsx)(u.tUt,{size:14}),(0,o.jsx)("span",{children:e.phone}),e.email&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"â€¢"}),(0,o.jsx)(u.Imn,{size:14}),(0,o.jsx)("span",{children:e.email})]})]})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between lg:justify-end space-x-3",children:[(0,o.jsx)("span",{className:"inline-flex items-center px-3 py-1 text-sm font-medium border rounded-full capitalize ".concat(X(e.segment)),children:e.segment}),(0,o.jsxs)("div",{className:"flex space-x-2",children:[(0,o.jsx)("button",{onClick:function(){v(e),Y(e.id)},className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:(0,o.jsx)(u.rDJ,{size:16})}),(0,o.jsx)("button",{onClick:function(){v(e),V(!0)},className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-lg transition-colors",children:(0,o.jsx)(u.vPQ,{size:16})})]})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(u.i63,{className:"text-gray-400 flex-shrink-0",size:16}),(0,o.jsxs)("span",{className:"text-sm text-gray-600 truncate",children:[e.city,", ",e.state]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(u.x8h,{className:"text-gray-400 flex-shrink-0",size:16}),(0,o.jsxs)("span",{className:"text-sm text-gray-600",children:[e.totalOrders," orders"]})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(u.oQC,{className:"text-gray-400 flex-shrink-0",size:16}),(0,o.jsx)("span",{className:"text-sm text-gray-600",children:G(e.totalSpent)})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(u.vlc,{className:"text-gray-400 flex-shrink-0",size:16}),(0,o.jsx)("span",{className:"text-sm text-gray-600",children:K(e.lastOrderDate)})]})]}),e.loyaltyPoints&&e.loyaltyPoints>0&&(0,o.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(u.nae,{className:"text-yellow-500",size:16}),(0,o.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Loyalty Points"})]}),(0,o.jsx)("span",{className:"text-sm font-semibold text-yellow-600",children:e.loyaltyPoints})]})})]},e.id)})}),0===H.length&&!E&&(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)(u.WY8,{className:"mx-auto h-12 w-12 text-gray-300 mb-4"}),(0,o.jsx)("p",{className:"text-gray-500 mb-4",children:"No customers found"}),0===g.length&&(0,o.jsxs)("button",{onClick:Z,className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[(0,o.jsx)(u.zy7,{size:16}),(0,o.jsx)("span",{children:"Add Sample Customers"})]})]}),(0,o.jsx)(x.M,{children:b&&!F&&(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,o.jsxs)(m.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Customer Details"}),(0,o.jsx)("button",{onClick:function(){return v(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,o.jsx)(u.q5L,{size:20})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,o.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-2xl",children:b.name.charAt(0).toUpperCase()}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:b.name}),(0,o.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium border rounded-full capitalize ".concat(X(b.segment)),children:b.segment})]})]}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(u.tUt,{className:"text-gray-400",size:16}),(0,o.jsx)("span",{className:"text-sm",children:b.phone})]}),b.email&&(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(u.Imn,{className:"text-gray-400",size:16}),(0,o.jsx)("span",{className:"text-sm",children:b.email})]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)(u.i63,{className:"text-gray-400",size:16}),(0,o.jsxs)("span",{className:"text-sm",children:[b.city,", ",b.state]})]})]})]}),(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Customer Metrics"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Total Orders"}),(0,o.jsx)("span",{className:"text-sm font-semibold",children:b.totalOrders})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Total Spent"}),(0,o.jsx)("span",{className:"text-sm font-semibold",children:G(b.totalSpent)})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Order Value"}),(0,o.jsx)("span",{className:"text-sm font-semibold",children:G(b.averageOrderValue)})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"First Order"}),(0,o.jsx)("span",{className:"text-sm font-semibold",children:K(b.firstOrderDate)})]}),(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Last Order"}),(0,o.jsx)("span",{className:"text-sm font-semibold",children:K(b.lastOrderDate)})]}),b.loyaltyPoints&&(0,o.jsxs)("div",{className:"flex justify-between",children:[(0,o.jsx)("span",{className:"text-sm text-gray-600",children:"Loyalty Points"}),(0,o.jsx)("span",{className:"text-sm font-semibold text-yellow-600",children:b.loyaltyPoints})]})]})]})]}),(0,o.jsxs)("div",{className:"lg:col-span-2",children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Order History"}),(0,o.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:w.map(function(e){return(0,o.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,o.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Order #",e.id.slice(-8)]}),(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,o.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:G(e.total)}),(0,o.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("delivered"===e.status?"bg-green-100 text-green-800":"shipped"===e.status?"bg-blue-100 text-blue-800":"processing"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})]})]}),(0,o.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:K(e.createdAt)}),(0,o.jsxs)("div",{className:"text-sm text-gray-600",children:[e.items.slice(0,2).map(function(t,s){return(0,o.jsxs)("span",{children:[t.name," x",t.qty,s<Math.min(e.items.length,2)-1&&", "]},s)}),e.items.length>2&&" +".concat(e.items.length-2," more")]})]},e.id)})})]})]})]})})})]})}},2167:function(e,t,s){"use strict";s.d(t,{M:function(){return f}});var r=s(2265),n=s(538);function a(){let e=(0,r.useRef)(!1);return(0,n.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var l=s(2363),i=s(8243),c=s(961);class o extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let s=(0,r.useId)(),n=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{let{width:e,height:r,top:l,left:i}=a.current;if(t||!n.current||!e||!r)return;n.current.dataset.motionPopId=s;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${l}px !important;
            left: ${i}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),r.createElement(o,{isPresent:t,childRef:n,sizeRef:a},r.cloneElement(e,{ref:n}))}let m=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:l,mode:o})=>{let m=(0,c.h)(x),u=(0,r.useId)(),h=(0,r.useMemo)(()=>({id:u,initial:t,isPresent:s,custom:a,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;n&&n()},register:e=>(m.set(e,!1),()=>m.delete(e))}),l?void 0:[s]);return(0,r.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[s]),r.useEffect(()=>{s||m.size||!n||n()},[s]),"popLayout"===o&&(e=r.createElement(d,{isPresent:s},e)),r.createElement(i.O.Provider,{value:h},e)};function x(){return new Map}var u=s(781),h=s(6567);let p=e=>e.key||"",f=({children:e,custom:t,initial:s=!0,onExitComplete:i,exitBeforeEnter:c,presenceAffectsLayout:o=!0,mode:d="sync"})=>{var x;(0,h.k)(!c,"Replace exitBeforeEnter with mode='wait'");let f=(0,r.useContext)(u.p).forceRender||function(){let e=a(),[t,s]=(0,r.useState)(0),n=(0,r.useCallback)(()=>{e.current&&s(t+1)},[t]);return[(0,r.useCallback)(()=>l.Wi.postRender(n),[n]),t]}()[0],g=a(),y=function(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(e),j=y,b=(0,r.useRef)(new Map).current,v=(0,r.useRef)(j),N=(0,r.useRef)(new Map).current,w=(0,r.useRef)(!0);if((0,n.L)(()=>{w.current=!1,function(e,t){e.forEach(e=>{let s=p(e);t.set(s,e)})}(y,N),v.current=j}),x=()=>{w.current=!0,N.clear(),b.clear()},(0,r.useEffect)(()=>()=>x(),[]),w.current)return r.createElement(r.Fragment,null,j.map(e=>r.createElement(m,{key:p(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:o,mode:d},e)));j=[...j];let C=v.current.map(p),O=y.map(p),E=C.length;for(let e=0;e<E;e++){let t=C[e];-1!==O.indexOf(t)||b.has(t)||b.set(t,void 0)}return"wait"===d&&b.size&&(j=[]),b.forEach((e,s)=>{if(-1!==O.indexOf(s))return;let n=N.get(s);if(!n)return;let a=C.indexOf(s),l=e;l||(l=r.createElement(m,{key:p(n),isPresent:!1,onExitComplete:()=>{b.delete(s);let e=Array.from(N.keys()).filter(e=>!O.includes(e));if(e.forEach(e=>N.delete(e)),v.current=y.filter(t=>{let r=p(t);return r===s||e.includes(r)}),!b.size){if(!1===g.current)return;f(),i&&i()}},custom:t,presenceAffectsLayout:o,mode:d},n),b.set(s,l)),j.splice(a,0,l)}),j=j.map(e=>{let t=e.key;return b.has(t)?e:r.createElement(m,{key:p(e),isPresent:!0,presenceAffectsLayout:o,mode:d},e)}),r.createElement(r.Fragment,null,b.size?j:j.map(e=>(0,r.cloneElement)(e)))}}},function(e){e.O(0,[4358,9990,4220,5643,6834,4499,2971,4938,1744],function(){return e(e.s=8030)}),_N_E=e.O()}]);