"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3440],{8109:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(5029),i=n(8965),a=n(4670),s=n(7437),o=n(2265),c=n(1221),l=n(1396),u=n.n(l),d=n(2167),f=n(5251),m=n(3505),x=n(2549),h=n(4891),g=n(9883),b=n(1138),y=n(4033);function v(){var e=(0,o.useContext)(c.CartContext),t=e.cart,n=e.cartCount,l=e.addToCart,v=e.removeFromCart,p=e.clearCart,j=(0,a._)((0,o.useState)(!1),2),w=j[0],N=j[1],C=(0,y.usePathname)(),k=(0,a._)((0,o.useState)(!1),2),_=k[0],E=k[1];if((0,o.useEffect)(function(){var e=function(e){E(e.detail.visible)};return window.addEventListener("footer-visibility",e),function(){return window.removeEventListener("footer-visibility",e)}},[]),C.startsWith("/checkout"))return null;var q=t.reduce(function(e,t){return e+t.price*t.qty},0),S=function(e,n){var a=t.find(function(t){return t.name===e});a&&(a.qty+n<=0?v(e):l((0,i._)((0,r._)({},a),{qty:n})))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.M,{children:n>0&&(0,s.jsx)(f.E.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed right-20 z-50 flex items-center justify-center pointer-events-none",style:{bottom:_?"80px":"20px",transition:"bottom 0.4s"},children:(0,s.jsxs)("button",{className:"relative flex items-center justify-center w-12 h-12 md:w-14 md:h-14 rounded-full bg-gradient-to-br from-green-500 to-green-600 shadow-xl hover:shadow-2xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-green-400 border-4 border-white pointer-events-auto","aria-label":"Open cart",style:{boxShadow:"0 4px 24px 0 rgba(34,197,94,0.15)"},onClick:function(){return N(!0)},children:[(0,s.jsx)(m.Z,{className:"w-6 h-6 md:w-7 md:h-7 text-white"}),(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-white text-green-600 text-xs md:text-sm font-bold rounded-full px-1.5 py-0.5 border-2 border-green-500 shadow-md min-w-[1.2rem] text-center",children:n})]})})}),(0,s.jsx)(d.M,{children:w&&(0,s.jsx)(f.E.div,{className:"fixed inset-0 z-[100] flex items-end justify-center md:items-center md:justify-center bg-black/40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,s.jsxs)(f.E.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"relative w-full max-w-xs md:max-w-sm bg-white/90 backdrop-blur-lg rounded-t-2xl md:rounded-xl shadow-xl border border-green-100 p-3 md:p-4 flex flex-col max-h-[80vh] overflow-y-auto",children:[(0,s.jsx)("button",{className:"absolute top-2 right-2 w-7 h-7 rounded-full bg-white/70 hover:bg-gray-100 flex items-center justify-center shadow",onClick:function(){return N(!1)},"aria-label":"Close cart",children:(0,s.jsx)(x.Z,{className:"w-4 h-4 text-gray-500"})}),(0,s.jsxs)("h2",{className:"text-base font-bold text-green-700 mb-3 flex items-center gap-2",children:[(0,s.jsx)(m.Z,{className:"w-5 h-5"})," Your Cart"]}),0===t.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500",children:[(0,s.jsx)(m.Z,{className:"w-10 h-10 mb-2"}),(0,s.jsx)("span",{className:"text-sm",children:"Your cart is empty."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2 mb-3",children:t.map(function(e){return(0,s.jsxs)(f.E.div,{className:"flex items-center gap-2 bg-white/80 rounded-lg shadow p-2",initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[(0,s.jsx)("img",{src:e.image,alt:e.name,className:"w-10 h-10 rounded-md object-cover border border-gray-200"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900 truncate text-xs",children:e.name}),e.category&&(0,s.jsx)("span",{className:"ml-1 bg-green-100 text-green-700 text-[10px] px-2 py-0.5 rounded-full font-medium",children:e.category})]}),e.description&&(0,s.jsx)("div",{className:"text-[10px] text-gray-500 truncate mt-0.5",children:e.description}),(0,s.jsxs)("div",{className:"text-green-700 font-bold text-xs mt-0.5",children:["₹",e.price]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)("button",{className:"w-6 h-6 rounded-full bg-gray-100 hover:bg-green-100 flex items-center justify-center text-xs font-bold text-green-600 border border-gray-200",onClick:function(){return S(e.name,-1)},"aria-label":"Decrease quantity",children:(0,s.jsx)(h.Z,{className:"w-3 h-3"})}),(0,s.jsx)("span",{className:"text-xs font-semibold text-gray-800 min-w-[16px] text-center",children:e.qty}),(0,s.jsx)("button",{className:"w-6 h-6 rounded-full bg-gray-100 hover:bg-green-100 flex items-center justify-center text-xs font-bold text-green-600 border border-gray-200",onClick:function(){return S(e.name,1)},"aria-label":"Increase quantity",children:(0,s.jsx)(g.Z,{className:"w-3 h-3"})})]})]}),(0,s.jsx)("button",{className:"ml-1 text-gray-400 hover:text-red-500 p-1 rounded-full hover:bg-red-50",onClick:function(){return v(e.name)},"aria-label":"Remove item",children:(0,s.jsx)(b.Z,{className:"w-4 h-4"})})]},e.name)})}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,s.jsx)("button",{className:"text-xs text-red-600 hover:text-red-700 font-semibold px-2 py-1 rounded bg-red-50 hover:bg-red-100 transition-colors",onClick:p,children:"Empty Cart"}),(0,s.jsxs)("div",{className:"text-base font-bold text-green-700",children:["Total: ₹",q.toLocaleString()]})]}),(0,s.jsx)(u(),{href:"/checkout",className:"block",children:(0,s.jsx)("button",{className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-2 rounded-lg shadow transition-all duration-200 text-base focus:outline-none focus:ring-2 focus:ring-green-400",children:"Checkout"})})]})]})})})]})}},1221:function(e,t,n){n.r(t),n.d(t,{CartContext:function(){return l},CartProvider:function(){return d},useCart:function(){return u}});var r=n(5029),i=n(8965),a=n(4670),s=n(1801),o=n(7437),c=n(2265),l=(0,c.createContext)({cart:[],cartCount:0,addToCart:function(){},removeFromCart:function(){},clearCart:function(){}}),u=function(){return(0,c.useContext)(l)},d=function(e){var t=e.children,n=(0,a._)((0,c.useState)([]),2),u=n[0],d=n[1],f=u.reduce(function(e,t){return e+t.qty},0);return(0,o.jsx)(l.Provider,{value:{cart:u,cartCount:f,addToCart:function(e){d(function(t){var n=t.find(function(t){return t.name===e.name});if(n){var a=n.qty+e.qty;return a<=0?t.filter(function(t){return t.name!==e.name}):t.map(function(t){return t.name===e.name?(0,i._)((0,r._)({},t),{qty:a}):t})}return e.qty>0?[(0,r._)({},e)].concat((0,s._)(t)):t})},removeFromCart:function(e){d(function(t){return t.filter(function(t){return t.name!==e})})},clearCart:function(){return d([])}},children:t})}},9795:function(e,t,n){n.r(t),n.d(t,{WishlistProvider:function(){return c},useWishlist:function(){return l}});var r=n(4670),i=n(1801),a=n(7437),s=n(2265),o=(0,s.createContext)(void 0);function c(e){var t=e.children,n=(0,r._)((0,s.useState)([]),2),c=n[0],l=n[1];(0,s.useEffect)(function(){var e=localStorage.getItem("wishlist");if(e)try{l(JSON.parse(e))}catch(e){}},[]),(0,s.useEffect)(function(){localStorage.setItem("wishlist",JSON.stringify(c))},[c]);var u=c.length;return(0,a.jsx)(o.Provider,{value:{wishlist:c,addToWishlist:function(e){l(function(t){return t.find(function(t){return t.id===e.id})?t:(0,i._)(t).concat([e])})},removeFromWishlist:function(e){l(function(t){return t.filter(function(t){return t.id!==e})})},isInWishlist:function(e){return c.some(function(t){return t.id===e})},clearWishlist:function(){l([])},wishlistCount:u},children:t})}function l(){var e=(0,s.useContext)(o);if(void 0===e)throw Error("useWishlist must be used within a WishlistProvider");return e}}}]);