(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{4057:function(e,t,r){Promise.resolve().then(r.bind(r,1303))},1303:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(6687),s=r(5029),a=r(8965),i=r(4670),l=r(44),c=r(7437),d=r(2265),o=r(5251),u=r(2167),m=r(1221),x=r(4033);function h(e){var t=e.onVerified,r=(0,i._)((0,d.useState)(""),2),n=r[0],s=r[1];return(0,c.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm mx-4",children:[(0,c.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Phone Verification"}),(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),10===n.length&&t("+91".concat(n))},className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Number"}),(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("span",{className:"inline-flex items-center px-3 py-2 border border-r-0 border-gray-300 bg-gray-50 text-gray-500 rounded-l-md",children:"+91"}),(0,c.jsx)("input",{type:"tel",value:n,onChange:function(e){return s(e.target.value.replace(/\D/g,"").slice(0,10))},placeholder:"Enter 10-digit number",className:"flex-1 px-3 py-2 border border-gray-300 rounded-r-md focus:ring-2 focus:ring-green-500 focus:border-transparent",maxLength:10,required:!0})]})]}),(0,c.jsx)("button",{type:"submit",disabled:10!==n.length,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white font-medium py-3 rounded-lg transition-colors",children:"Verify Phone"})]})]})}var f=r(6840),p=r(6834),g=["Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Delhi","Puducherry","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Jammu and Kashmir","Ladakh","Lakshadweep","Andaman and Nicobar Islands"];function b(e){var t,r=e.initialPhone,o=e.initialData,u=e.onSubmit,m=e.onBack,x=(0,i._)((0,d.useState)({fullName:(null==o?void 0:o.fullName)||"",phoneNumber:(null==o?void 0:o.phoneNumber)||r,addressLine1:(null==o?void 0:o.addressLine1)||"",addressLine2:(null==o?void 0:o.addressLine2)||"",city:(null==o?void 0:o.city)||"",state:(null==o?void 0:o.state)||"",pincode:(null==o?void 0:o.pincode)||"",landmark:(null==o?void 0:o.landmark)||""}),2),h=x[0],b=x[1],y=(0,i._)((0,d.useState)({}),2),j=y[0],N=y[1],v=(0,i._)((0,d.useState)(!1),2),w=v[0],C=v[1],k=function(e){b((0,a._)((0,s._)({},h),(0,f._)({},e.target.name,e.target.value)))},P=function(){var e={};return h.fullName.trim()||(e.fullName="Full name is required"),h.phoneNumber.trim()?/^[6-9]\d{9}$/.test(h.phoneNumber)||(e.phoneNumber="Please enter a valid 10-digit mobile number"):e.phoneNumber="Phone number is required",h.addressLine1.trim()||(e.addressLine1="Address is required"),h.city.trim()||(e.city="City is required"),h.state.trim()||(e.state="State is required"),h.pincode.trim()?/^\d{6}$/.test(h.pincode)||(e.pincode="Please enter a valid 6-digit pincode"):e.pincode="Pincode is required",N(e),0===Object.keys(e).length},D=(t=(0,n._)(function(e){return(0,l.Jh)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),!P())return[2];C(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,new Promise(function(e){return setTimeout(e,1e3)})];case 2:return t.sent(),u(h),[3,5];case 3:return t.sent(),[3,5];case 4:return C(!1),[7];case 5:return[2]}})}),function(e){return t.apply(this,arguments)});return(0,c.jsx)("div",{className:"p-4",children:(0,c.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 max-w-md mx-auto",children:[(0,c.jsxs)("div",{className:"text-center mb-6",children:[(0,c.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,c.jsx)(p.i63,{className:"text-green-500 text-2xl"})}),(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Delivery Address"}),(0,c.jsx)("p",{className:"text-gray-600 text-sm",children:"Where should we deliver your plants?"})]}),(0,c.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,c.jsx)(p.fzv,{className:"inline mr-1"})," Full Name *"]}),(0,c.jsx)("input",{type:"text",name:"fullName",value:h.fullName,onChange:k,placeholder:"Enter your full name",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none ".concat(j.fullName?"border-red-300":"border-gray-300"),required:!0}),j.fullName&&(0,c.jsx)("p",{className:"text-red-500 text-xs mt-1",children:j.fullName})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,c.jsx)(p.tUt,{className:"inline mr-1"})," Phone Number *"]}),(0,c.jsxs)("div",{className:"flex",children:[(0,c.jsx)("div",{className:"flex items-center px-3 py-3 bg-gray-50 border border-r-0 border-gray-300 rounded-l-lg",children:(0,c.jsx)("span",{className:"text-gray-600 font-medium",children:"\uD83C\uDDEE\uD83C\uDDF3 +91"})}),(0,c.jsx)("input",{type:"tel",name:"phoneNumber",value:h.phoneNumber,onChange:k,placeholder:"Enter 10-digit number",className:"flex-1 px-4 py-3 border rounded-r-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none ".concat(j.phoneNumber?"border-red-300":"border-gray-300"),maxLength:10,required:!0})]}),j.phoneNumber&&(0,c.jsx)("p",{className:"text-red-500 text-xs mt-1",children:j.phoneNumber})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,c.jsx)(p.m6D,{className:"inline mr-1"})," Address Line 1 *"]}),(0,c.jsx)("input",{type:"text",name:"addressLine1",value:h.addressLine1,onChange:k,placeholder:"House/Flat No., Building Name, Street",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none ".concat(j.addressLine1?"border-red-300":"border-gray-300"),required:!0}),j.addressLine1&&(0,c.jsx)("p",{className:"text-red-500 text-xs mt-1",children:j.addressLine1})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Line 2 (Optional)"}),(0,c.jsx)("input",{type:"text",name:"addressLine2",value:h.addressLine2,onChange:k,placeholder:"Area, Locality",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,c.jsx)("input",{type:"text",name:"city",value:h.city,onChange:k,placeholder:"City",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none ".concat(j.city?"border-red-300":"border-gray-300"),required:!0}),j.city&&(0,c.jsx)("p",{className:"text-red-500 text-xs mt-1",children:j.city})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,c.jsxs)("select",{name:"state",value:h.state,onChange:k,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none ".concat(j.state?"border-red-300":"border-gray-300"),required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select State"}),g.map(function(e){return(0,c.jsx)("option",{value:e,children:e},e)})]}),j.state&&(0,c.jsx)("p",{className:"text-red-500 text-xs mt-1",children:j.state})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),(0,c.jsx)("input",{type:"text",name:"pincode",value:h.pincode,onChange:k,placeholder:"123456",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none ".concat(j.pincode?"border-red-300":"border-gray-300"),maxLength:6,required:!0}),j.pincode&&(0,c.jsx)("p",{className:"text-red-500 text-xs mt-1",children:j.pincode})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Landmark (Optional)"}),(0,c.jsx)("input",{type:"text",name:"landmark",value:h.landmark,onChange:k,placeholder:"Near...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"})]})]}),(0,c.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,c.jsx)("button",{type:"button",onClick:m,className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-3 rounded-lg transition-colors",children:"← Back"}),(0,c.jsx)("button",{type:"submit",disabled:w,className:"flex-1 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white font-semibold py-3 rounded-lg transition-colors flex items-center justify-center",children:w?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Continue"})]})]})]})})}function y(){var e=(0,m.useCart)().cart,t=e.reduce(function(e,t){return e+t.price*t.qty},0),r=t>=500?0:50;return(0,c.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,c.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,c.jsx)("div",{className:"space-y-3 mb-4",children:e.map(function(e){return(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-cover rounded-lg"}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,c.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.qty]})]}),(0,c.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["₹",(e.price*e.qty).toLocaleString()]})]},e.name)})}),(0,c.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-2",children:[(0,c.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,c.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",e.length," items)"]}),(0,c.jsxs)("span",{className:"text-gray-900",children:["₹",t.toLocaleString()]})]}),(0,c.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,c.jsx)("span",{className:"text-gray-600",children:"Delivery Fee"}),(0,c.jsx)("span",{className:"text-gray-900",children:0===r?"FREE":"₹".concat(r)})]}),(0,c.jsxs)("div",{className:"flex justify-between font-semibold text-lg border-t border-gray-200 pt-2",children:[(0,c.jsx)("span",{children:"Total"}),(0,c.jsxs)("span",{className:"text-green-600",children:["₹",(t+r).toLocaleString()]})]})]}),t<500&&(0,c.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,c.jsxs)("p",{className:"text-xs text-blue-700",children:["Add ₹",(500-t).toLocaleString()," more for FREE delivery!"]})})]})}var j=r(4499);function N(){var e,t,f,g,N=(0,m.useCart)(),v=N.cart,w=(N.cartCount,N.clearCart),C=(0,x.useRouter)(),k=(0,i._)((0,d.useState)(1),2),P=k[0],D=k[1],E=(0,i._)((0,d.useState)(null),2),S=E[0],L=E[1],_=(0,i._)((0,d.useState)(!0),2),A=_[0],q=_[1],O=function(){return v.reduce(function(e,t){return e+t.price*t.qty},0)},R=(0,i._)((0,d.useState)(!1),2),F=(R[0],R[1]),M=(0,i._)((0,d.useState)(""),2),B=M[0],z=M[1],I=(0,i._)((0,d.useState)(null),2),T=I[0],U=I[1],J=(0,i._)((0,d.useState)(!1),2),$=J[0],V=J[1],H=(0,i._)((0,d.useState)(!1),2),W=H[0],K=H[1],G=(0,i._)((0,d.useState)(""),2),Q=G[0],X=G[1];if(!Array.isArray(v))return(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})});var Y=[{id:1,title:"Phone Verification",icon:"\uD83D\uDCF1"},{id:2,title:"Delivery Address",icon:"\uD83D\uDCCD"},{id:3,title:"Payment & Review",icon:"\uD83D\uDCB3"}];(0,d.useEffect)(function(){Z()},[]);var Z=(e=(0,n._)(function(){var e;return(0,l.Jh)(this,function(t){try{(0,j.isCustomerLoggedIn)()&&(e=(0,j.getCurrentCustomer)(),L(e),F(!0),z(e.phone),D(2))}catch(e){}finally{q(!1)}return[2]})}),function(){return e.apply(this,arguments)});(0,d.useEffect)(function(){!Array.isArray(v)||0!==v.length||W||A||C.push("/")},[v,C,W,A]);var ee=(t=(0,n._)(function(){var e,t,n,i,c,d,o,u,m,x,h,f,p,g,b;return(0,l.Jh)(this,function(l){switch(l.label){case 0:V(!0),l.label=1;case 1:if(l.trys.push([1,10,11,12]),!T)throw Error("Address is required");if(t=(e=O())>=500?0:50,n=e+t,i=S)return[3,5];return[4,Promise.resolve().then(r.bind(r,4499))];case 2:return d=(c=l.sent()).getCustomerByPhone,o=c.createCustomer,[4,d(B)];case 3:if(i=l.sent())return[3,5];return u={name:T.fullName,phone:B,email:"",city:T.city,state:T.state,totalOrders:0,totalSpent:0,loyaltyPoints:0,preferredCategories:[]},[4,o(u)];case 4:m=l.sent(),i=(0,a._)((0,s._)({},u),{id:m}),localStorage.setItem("currentCustomer",JSON.stringify(i)),l.label=5;case 5:return x={customerId:i.id,customerPhone:B,customerName:T.fullName,items:v.map(function(e){return{name:e.name,price:e.price,qty:e.qty,image:e.image}}),address:T,subtotal:e,deliveryFee:t,total:n,paymentMethod:"Cash on Delivery",status:"pending"},[4,Promise.resolve().then(r.bind(r,4499))];case 6:return f=(h=l.sent()).createOrder,p=h.updateCustomer,[4,f(x)];case 7:if(g=l.sent(),!i)return[3,9];return b=(0,a._)((0,s._)({},i),{totalOrders:(i.totalOrders||0)+1,totalSpent:(i.totalSpent||0)+n,loyaltyPoints:(i.loyaltyPoints||0)+Math.floor(n/10),lastOrderDate:new Date}),[4,p(i.id,b)];case 8:l.sent(),localStorage.setItem("currentCustomer",JSON.stringify(b)),l.label=9;case 9:return X(g),K(!0),w(),setTimeout(function(){C.push("/order-confirmation/".concat(g))},3e3),[3,12];case 10:return l.sent(),alert("Failed to place order. Please try again."),[3,12];case 11:return V(!1),[7];case 12:return[2]}})}),function(){return t.apply(this,arguments)});return A?(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"})}):W?(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,c.jsxs)(o.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-xl p-8 text-center max-w-md w-full",children:[(0,c.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,c.jsx)(p.UgA,{className:"text-green-500 text-3xl"})}),(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Order Placed Successfully!"}),(0,c.jsxs)("p",{className:"text-gray-600 mb-4",children:["Order ID: ",Q]}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Your order will be delivered within 2-3 business days via Cash on Delivery."}),(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"Redirecting to order confirmation..."})]})}):(0,c.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,c.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,c.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,c.jsx)("button",{onClick:function(){return C.back()},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,c.jsx)(p.Ao2,{size:20})}),(0,c.jsx)("h1",{className:"text-lg font-semibold",children:"Checkout"}),(0,c.jsx)("div",{className:"w-8"})," "]})}),(0,c.jsxs)("div",{className:"max-w-lg mx-auto",children:[(f=S?Y.filter(function(e){return 1!==e.id}):Y,g=S?P-1:P,(0,c.jsx)("div",{className:"flex items-center justify-center mb-8 px-4",children:f.map(function(e,t){return(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center ".concat(t<f.length-1?"flex-1":""),children:[(0,c.jsx)("div",{className:"\n                w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium mb-2\n                ".concat(g>=(S?e.id-1:e.id)?"bg-green-500 text-white":"bg-gray-200 text-gray-600","\n              "),children:g>(S?e.id-1:e.id)?(0,c.jsx)(p.UgA,{size:16}):S?e.id-1:e.id}),(0,c.jsx)("span",{className:"text-xs text-center ".concat(g>=(S?e.id-1:e.id)?"text-green-600 font-medium":"text-gray-500"),children:e.title})]}),t<f.length-1&&(0,c.jsx)("div",{className:"h-0.5 flex-1 mx-4 ".concat(g>(S?e.id-1:e.id)?"bg-green-500":"bg-gray-200")})]},e.id)})})),S&&2===P&&(0,c.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mx-4 mb-6 bg-green-50 border border-green-200 rounded-xl p-4",children:(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,c.jsx)(p.UgA,{className:"text-green-500"})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("h3",{className:"font-medium text-green-900",children:["Welcome back, ",S.name,"!"]}),(0,c.jsx)("p",{className:"text-sm text-green-600",children:"Please confirm your delivery address"})]})]})}),(0,c.jsxs)(u.M,{mode:"wait",children:[1===P&&!S&&(0,c.jsx)(o.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:(0,c.jsx)(h,{onVerified:function(e){F(!0),z(e),D(2)}})},"phone-verification"),2===P&&(0,c.jsx)(o.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:(0,c.jsx)(b,{initialPhone:B,initialData:S?{fullName:S.name,phoneNumber:S.phone,city:S.city||"",state:S.state||"",addressLine1:"",pincode:""}:void 0,onSubmit:function(e){U(e),D(3)},onBack:function(){return D(S?2:1)}})},"address-form"),3===P&&(0,c.jsx)(o.E.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:(0,c.jsxs)("div",{className:"space-y-6 p-4",children:[(0,c.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,c.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,c.jsx)(p.C4B,{className:"mr-2 text-green-500"}),"Delivery Address"]}),T&&(0,c.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,c.jsx)("p",{className:"font-medium text-gray-900",children:T.fullName}),(0,c.jsx)("p",{children:T.addressLine1}),T.addressLine2&&(0,c.jsx)("p",{children:T.addressLine2}),(0,c.jsxs)("p",{children:[T.city,", ",T.state," - ",T.pincode]}),(0,c.jsxs)("p",{className:"text-green-600",children:["\uD83D\uDCF1 ",T.phoneNumber]})]}),(0,c.jsx)("button",{onClick:function(){return D(2)},className:"text-green-500 text-sm font-medium mt-2",children:"Change Address"})]}),(0,c.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[(0,c.jsxs)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,c.jsx)(p.XiQ,{className:"mr-2 text-green-500"}),"Payment Method"]}),(0,c.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-3",children:"\uD83D\uDCB0"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"font-medium text-gray-900",children:"Cash on Delivery"}),(0,c.jsx)("p",{className:"text-sm text-gray-600",children:"Pay when you receive"})]})]}),(0,c.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:(0,c.jsx)(p.UgA,{className:"text-white text-xs"})})]})]}),(0,c.jsx)(y,{}),(0,c.jsx)("button",{onClick:ee,disabled:$,className:"w-full bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white font-semibold py-4 rounded-xl transition-colors flex items-center justify-center",children:$?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Placing Order..."]}):(0,c.jsxs)(c.Fragment,{children:["Place Order (₹",O().toLocaleString(),")"]})}),(0,c.jsx)("div",{className:"text-center",children:(0,c.jsx)("button",{onClick:function(){return D(2)},className:"text-gray-500 text-sm",children:"← Back to Address"})})]})},"payment-review")]})]})]})}},1221:function(e,t,r){"use strict";r.r(t),r.d(t,{CartContext:function(){return d},CartProvider:function(){return u},useCart:function(){return o}});var n=r(5029),s=r(8965),a=r(4670),i=r(1801),l=r(7437),c=r(2265),d=(0,c.createContext)({cart:[],cartCount:0,addToCart:function(){},removeFromCart:function(){},clearCart:function(){}}),o=function(){return(0,c.useContext)(d)},u=function(e){var t=e.children,r=(0,a._)((0,c.useState)([]),2),o=r[0],u=r[1],m=o.reduce(function(e,t){return e+t.qty},0);return(0,l.jsx)(d.Provider,{value:{cart:o,cartCount:m,addToCart:function(e){u(function(t){var r=t.find(function(t){return t.name===e.name});if(r){var a=r.qty+e.qty;return a<=0?t.filter(function(t){return t.name!==e.name}):t.map(function(t){return t.name===e.name?(0,s._)((0,n._)({},t),{qty:a}):t})}return e.qty>0?[(0,n._)({},e)].concat((0,i._)(t)):t})},removeFromCart:function(e){u(function(t){return t.filter(function(t){return t.name!==e})})},clearCart:function(){return u([])}},children:t})}},4033:function(e,t,r){e.exports=r(5313)},2167:function(e,t,r){"use strict";r.d(t,{M:function(){return p}});var n=r(2265),s=r(538);function a(){let e=(0,n.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var i=r(2363),l=r(8243),c=r(961);class d extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o({children:e,isPresent:t}){let r=(0,n.useId)(),s=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)(()=>{let{width:e,height:n,top:i,left:l}=a.current;if(t||!s.current||!e||!n)return;s.current.dataset.motionPopId=r;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            top: ${i}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),n.createElement(d,{isPresent:t,childRef:s,sizeRef:a},n.cloneElement(e,{ref:s}))}let u=({children:e,initial:t,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:d})=>{let u=(0,c.h)(m),x=(0,n.useId)(),h=(0,n.useMemo)(()=>({id:x,initial:t,isPresent:r,custom:a,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;s&&s()},register:e=>(u.set(e,!1),()=>u.delete(e))}),i?void 0:[r]);return(0,n.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[r]),n.useEffect(()=>{r||u.size||!s||s()},[r]),"popLayout"===d&&(e=n.createElement(o,{isPresent:r},e)),n.createElement(l.O.Provider,{value:h},e)};function m(){return new Map}var x=r(781),h=r(6567);let f=e=>e.key||"",p=({children:e,custom:t,initial:r=!0,onExitComplete:l,exitBeforeEnter:c,presenceAffectsLayout:d=!0,mode:o="sync"})=>{var m;(0,h.k)(!c,"Replace exitBeforeEnter with mode='wait'");let p=(0,n.useContext)(x.p).forceRender||function(){let e=a(),[t,r]=(0,n.useState)(0),s=(0,n.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,n.useCallback)(()=>i.Wi.postRender(s),[s]),t]}()[0],g=a(),b=function(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}(e),y=b,j=(0,n.useRef)(new Map).current,N=(0,n.useRef)(y),v=(0,n.useRef)(new Map).current,w=(0,n.useRef)(!0);if((0,s.L)(()=>{w.current=!1,function(e,t){e.forEach(e=>{let r=f(e);t.set(r,e)})}(b,v),N.current=y}),m=()=>{w.current=!0,v.clear(),j.clear()},(0,n.useEffect)(()=>()=>m(),[]),w.current)return n.createElement(n.Fragment,null,y.map(e=>n.createElement(u,{key:f(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:d,mode:o},e)));y=[...y];let C=N.current.map(f),k=b.map(f),P=C.length;for(let e=0;e<P;e++){let t=C[e];-1!==k.indexOf(t)||j.has(t)||j.set(t,void 0)}return"wait"===o&&j.size&&(y=[]),j.forEach((e,r)=>{if(-1!==k.indexOf(r))return;let s=v.get(r);if(!s)return;let a=C.indexOf(r),i=e;i||(i=n.createElement(u,{key:f(s),isPresent:!1,onExitComplete:()=>{j.delete(r);let e=Array.from(v.keys()).filter(e=>!k.includes(e));if(e.forEach(e=>v.delete(e)),N.current=b.filter(t=>{let n=f(t);return n===r||e.includes(n)}),!j.size){if(!1===g.current)return;p(),l&&l()}},custom:t,presenceAffectsLayout:d,mode:o},s),j.set(r,i)),y.splice(a,0,i)}),y=y.map(e=>{let t=e.key;return j.has(t)?e:n.createElement(u,{key:f(e),isPresent:!0,presenceAffectsLayout:d,mode:o},e)}),n.createElement(n.Fragment,null,j.size?y:y.map(e=>(0,n.cloneElement)(e)))}}},function(e){e.O(0,[4358,9990,4220,5643,6834,4499,2971,4938,1744],function(){return e(e.s=4057)}),_N_E=e.O()}]);